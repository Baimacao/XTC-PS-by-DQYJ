(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{376:function(e,a,t){"use strict";t.r(a);var s=t(13),i=Object(s.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"precautions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#precautions"}},[e._v("#")]),e._v(" Precautions")]),e._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#_1-memory"}},[e._v("1 Memory")]),a("ul",[a("li",[a("a",{attrs:{href:"#_1-1-memory-requirements"}},[e._v("1.1 Memory requirements")])]),a("li",[a("a",{attrs:{href:"#_1-2-memory-usage-principle"}},[e._v("1.2 Memory usage principle")])])])]),a("li",[a("a",{attrs:{href:"#_2-power-optimization"}},[e._v("2. Power optimization")])]),a("li",[a("a",{attrs:{href:"#_3-installation-package-size"}},[e._v("3. Installation package size")])]),a("li",[a("a",{attrs:{href:"#_4-hot-updates-disabled"}},[e._v("4. Hot updates disabled")])]),a("li",[a("a",{attrs:{href:"#_5-storage-specifications"}},[e._v("5. Storage specifications")])]),a("li",[a("a",{attrs:{href:"#_6-traffic-usage"}},[e._v("6. Traffic usage")]),a("ul",[a("li",[a("a",{attrs:{href:"#_6-1-reminders-and-restrictions-for-traffic-usage"}},[e._v("6.1 Reminders and restrictions for traffic usage")])]),a("li",[a("a",{attrs:{href:"#_6-2-traffic-switch"}},[e._v("6.2 Traffic switch")])])])]),a("li",[a("a",{attrs:{href:"#_7-audio-focus-conflict"}},[e._v("7. Audio focus conflict")]),a("ul",[a("li",[a("a",{attrs:{href:"#_7-1-apps-with-sound-playback-should-correctly-handle-the-acquisition-and-loss-of-audio-focus"}},[e._v("7.1 Apps with sound playback should correctly handle the acquisition and loss of audio focus")])]),a("li",[a("a",{attrs:{href:"#_7-2-audio-playback-sequence"}},[e._v("7.2 Audio playback sequence")])]),a("li",[a("a",{attrs:{href:"#_7-3-audio-cache-problem"}},[e._v("7.3 Audio cache problem")])])])])])]),a("p"),e._v(" "),a("h2",{attrs:{id:"_1-memory"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-memory"}},[e._v("#")]),e._v(" 1 Memory")]),e._v(" "),a("h3",{attrs:{id:"_1-1-memory-requirements"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-memory-requirements"}},[e._v("#")]),e._v(" 1.1 Memory requirements")]),e._v(" "),a("p",[e._v("Do not exceed 35M for more than 90% of the time period of CPU operation. CPU usage shall not exceed 10% overall.")]),e._v(" "),a("h3",{attrs:{id:"_1-2-memory-usage-principle"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-memory-usage-principle"}},[e._v("#")]),e._v(" 1.2 Memory usage principle")]),e._v(" "),a("ul",[a("li",[e._v("The maximum memory that can be used by a single App is 48M. If exceeded, the memory overflow will be reported.")])]),e._v(" "),a("ul",[a("li",[e._v("Be careful to use memory allocation under the native level to prevent memory leaks.")])]),e._v(" "),a("ul",[a("li",[e._v("It is prohibited to apply large memory under the native level to avoid exceeding the 48M memory limit.")])]),e._v(" "),a("ul",[a("li",[e._v("Try to use an image with a well-matched size, and use the resource cache appropriately.")])]),e._v(" "),a("ul",[a("li",[e._v("Try to use the background service independent process running method.")])]),e._v(" "),a("ul",[a("li",[e._v("Reuse the resources that come with the system.")])]),e._v(" "),a("ul",[a("li",[e._v("Avoid creating objects in the onDraw method.")])]),e._v(" "),a("ul",[a("li",[e._v("Optimize the layout hierarchy, reduce memory consumption and ensure that View is not overdrawn.")])]),e._v(" "),a("h2",{attrs:{id:"_2-power-optimization"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-power-optimization"}},[e._v("#")]),e._v(" 2. Power optimization")]),e._v(" "),a("ul",[a("li",[e._v("Use the wake-up lock with caution, and remember to release it after using it for special requirements.")])]),e._v(" "),a("ul",[a("li",[e._v("Be sure to check the status of the network for services that need to request the network, and avoid retrying work in a repeated manner.")])]),e._v(" "),a("ul",[a("li",[e._v("The background service should merge or reduce the necessary wake-up work.")])]),e._v(" "),a("ul",[a("li",[e._v("To avoid the situation where the screen is always on, there must be a time limit for screen-always-on.")])]),e._v(" "),a("ul",[a("li",[e._v("Minimize log printing.")])]),e._v(" "),a("ul",[a("li",[e._v("Avoid static broadcast monitoring.")])]),e._v(" "),a("h2",{attrs:{id:"_3-installation-package-size"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-installation-package-size"}},[e._v("#")]),e._v(" 3. Installation package size")]),e._v(" "),a("ul",[a("li",[e._v("If the ROM of the watch model reaches up to 4G and above: the size of the installation package should not exceed 30M, and the space occupied after installation should not exceed 40M.")])]),e._v(" "),a("ul",[a("li",[e._v("If the ROM of the watch model is 512M: the size of the installation package should not exceed 10M, and the space occupied after installation should not exceed 15M.")])]),e._v(" "),a("h2",{attrs:{id:"_4-hot-updates-disabled"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-hot-updates-disabled"}},[e._v("#")]),e._v(" 4. Hot updates disabled")]),e._v(" "),a("p",[e._v("All new features are required to be reviewed by the imoo App store, and hot updates shall not be allowed.")]),e._v(" "),a("h2",{attrs:{id:"_5-storage-specifications"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-storage-specifications"}},[e._v("#")]),e._v(" 5. Storage specifications")]),e._v(" "),a("ul",[a("li",[e._v("After an App is uninstalled, data related to that App can be completely deleted.")])]),e._v(" "),a("ul",[a("li",[e._v("Third-party App storage can only be implemented under the package name /sdcard/Android/data/third-party/or package name directory /data/data/.")])]),e._v(" "),a("ul",[a("li",[e._v("The third party itself needs to handle the matters after data has been deleted. If the downloaded music has been deleted, the playlist should not be displayed.")])]),e._v(" "),a("ul",[a("li",[e._v("When the user cleans up the space, the watch will delete the package name /sdcard/Android/data/and package name directory /data/data/.")])]),e._v(" "),a("ul",[a("li",[e._v("In principle, after the user cleans up the space, the space occupied by the third-party App should be the same as before its initial installation.")])]),e._v(" "),a("h2",{attrs:{id:"_6-traffic-usage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-traffic-usage"}},[e._v("#")]),e._v(" 6. Traffic usage")]),e._v(" "),a("p",[e._v("As traffic consumption is an issue to which users pay close attention, reminders and management of traffic usage need to be supported.")]),e._v(" "),a("h3",{attrs:{id:"_6-1-reminders-and-restrictions-for-traffic-usage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-reminders-and-restrictions-for-traffic-usage"}},[e._v("#")]),e._v(" 6.1 Reminders and restrictions for traffic usage")]),e._v(" "),a("ul",[a("li",[e._v("For the first time using network traffic, the user must be reminded by Toast.")])]),e._v(" "),a("ul",[a("li",[e._v("When the network is disconnected, the audio needs to be paused. When the network is connected, playback is not allowed to be resumed, leaving the pause state intact.")])]),e._v(" "),a("ul",[a("li",[e._v("In principle, the favorite broadcast audio should be cached as much as possible. When quickly switching to other audio, the stopping of mediaPlayer should be called in an active manner and the caching of the previous audio should be cancelled, thereby reducing traffic consumption.")])]),e._v(" "),a("h3",{attrs:{id:"_6-2-traffic-switch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-traffic-switch"}},[e._v("#")]),e._v(" 6.2 Traffic switch")]),e._v(" "),a("p",[e._v("The imoo parent-end App currently controls the traffic switch of a single App on the watch, and the usage experience of the App requires further attention when traffic is disabled.")]),e._v(" "),a("ul",[a("li",[e._v("Related files for traffic switch")])]),e._v(" "),a("blockquote",[a("p",[e._v("See the attachment "),a("RouterLink",{attrs:{to:"/en/develop/07-annex.html"}},[e._v('"Java files for traffic switch"')])],1)]),e._v(" "),a("ul",[a("li",[e._v("The code determines whether it is currently disabled or not")])]),e._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("NetworkPolicyForApp")]),e._v(" networkPolicyForApp "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("new")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("NetworkPolicyForApp")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("boolean")]),e._v(" isDisabled "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" networkPolicyForApp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("isMobileTrafficDisabled")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"packageName"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),a("h2",{attrs:{id:"_7-audio-focus-conflict"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-audio-focus-conflict"}},[e._v("#")]),e._v(" 7. Audio focus conflict")]),e._v(" "),a("h3",{attrs:{id:"_7-1-apps-with-sound-playback-should-correctly-handle-the-acquisition-and-loss-of-audio-focus"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-apps-with-sound-playback-should-correctly-handle-the-acquisition-and-loss-of-audio-focus"}},[e._v("#")]),e._v(" 7.1 Apps with sound playback should correctly handle the acquisition and loss of audio focus")]),e._v(" "),a("p",[e._v("Achieve the acquisition of audio focus before starting playback. In case of the loss of audio focus, pause playback.")]),e._v(" "),a("h3",{attrs:{id:"_7-2-audio-playback-sequence"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-audio-playback-sequence"}},[e._v("#")]),e._v(" 7.2 Audio playback sequence")]),e._v(" "),a("ul",[a("li",[e._v("The watch does not allow two or more audio files to be played simultaneously.")])]),e._v(" "),a("ul",[a("li",[e._v("Audio playback follows a sequence. If a new application for audio focus occurs, the previous active one will pause automatically.")])]),e._v(" "),a("h3",{attrs:{id:"_7-3-audio-cache-problem"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-3-audio-cache-problem"}},[e._v("#")]),e._v(" 7.3 Audio cache problem")]),e._v(" "),a("p",[e._v("Asynchronous caching can easily result in ANR. It is preferable to use the synchronous caching method to enable sub-thread synchronous caching.")])])}),[],!1,null,null,null);a.default=i.exports}}]);